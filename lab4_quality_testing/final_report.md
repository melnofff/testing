# Лабораторная работа №4
## Комплексное нефункциональное тестирование веб-приложения

**Студент:** Мельников Данила Вячеславович
**Группа:** ТРПО23-2   
**Дата:** 16.12.2025  
**Объект тестирования:** https://www.fa.ru (публичный веб-ресурс без аутентификации)

---

## 0. Введение

### Цель работы
Освоить практические навыки тестирования производительности, безопасности и удобства использования веб-приложений в рамках полного цикла нефункционального тестирования. :contentReference[oaicite:1]{index=1}

### Задачи
1. Выполнить тестирование производительности (нагрузочное и стресс-тестирование) с анализом метрик. :contentReference[oaicite:2]{index=2}  
2. Выполнить тестирование безопасности: автоматическое (OWASP ZAP) и ручное. :contentReference[oaicite:3]{index=3}  
3. Провести оценку удобства использования: эвристическая оценка (Нильсен) + чек-лист доступности (WCAG 2.1). :contentReference[oaicite:4]{index=4}  
4. Сформировать сводный анализ, рекомендации и план улучшений (roadmap). :contentReference[oaicite:5]{index=5}

---

## 1. Методология и инструменты

### 1.1 Производительность
- Инструмент: **Apache JMeter**
- Артефакты: `jmeter/load_test.jmx`, `jmeter/stress_test.jmx`, результаты в `results/*.jtl` (см. Приложения). :contentReference[oaicite:6]{index=6}  
- Анализируемые метрики: Response Time, Throughput, Error Rate. (CPU/Memory на стороне сервера недоступны, так как тестируем публичный ресурс без доступа к инфраструктуре.) :contentReference[oaicite:7]{index=7}

### 1.2 Безопасность
- Инструменты: **OWASP ZAP 2.16.1** (автоскан) + ручные проверки через браузер. :contentReference[oaicite:8]{index=8}  
- Артефакты: `security/zap_report.html`, `security/manual_testing.md`.

### 1.3 Удобство использования
- Эвристическая оценка по 10 эвристикам Нильсена. :contentReference[oaicite:9]{index=9}  
- Проверка доступности по WCAG 2.1 (ручной чек-лист). :contentReference[oaicite:10]{index=10}  
- Артефакты: `usability/heuristic_evaluation.md`, `usability/accessibility_checklist.md`.

---

## 2. Результаты тестирования производительности

> Требования методички:  
> - постепенное увеличение нагрузки 10 → 50 → 100 пользователей  
> - стресс-тест до 200 пользователей шагом +25 каждые 2 минуты или до Error Rate ≥ 5% :contentReference[oaicite:11]{index=11}

### 2.1 Нагрузочное тестирование (10 → 50 → 100 пользователей)
Были выполнены три прогона нагрузочного тестирования с ростом количества одновременных пользователей.

**Сценарий:** открытие целевой страницы/раздела сайта (GET запросы).  
**Длительность:** фиксированная (как в настройках `.jmx`).  

**Ключевые наблюдения (качественные):**
- При росте пользователей ожидаемо увеличивается время отклика и перцентили (90/95%), т.к. растёт конкуренция за ресурсы на стороне сервера/канала.
- Критических сбоев на уровне клиента не наблюдалось (если Error% ≈ 0–1%).

**Метрики (заполнить из Aggregate Report при необходимости):**
- Users 10: Average = <...> ms; 95% Line = <...> ms; Error% = <...>; Throughput = <...>/s  
- Users 50: Average = <...> ms; 95% Line = <...> ms; Error% = <...>; Throughput = <...>/s  
- Users 100: Average = <...> ms; 95% Line = <...> ms; Error% = <...>; Throughput = <...>/s  

**Артефакты:** `results/users10.jtl`, `results/users50.jtl`, `results/users100.jtl`.

> Примечание: методичка также упоминает “пиковую нагрузку 50 пользователей одновременно” и “длительную нагрузку 30 пользователей 15 минут”. :contentReference[oaicite:12]{index=12}  
> В текущем наборе артефактов зафиксированы базовые ступени (10/50/100) и стресс-тестирование. Длительный прогон 30 пользователей/15 минут можно добавить дополнительным `.jtl` при необходимости преподавателя.

### 2.2 Стресс-тестирование (до 200 пользователей, +25 каждые 2 минуты)
Стресс-тест выполнялся согласно методичке: нагрузка увеличивалась ступенчато, цель — выявление точки деградации/отказа. :contentReference[oaicite:13]{index=13}

**Шаги нагрузки:** 25 → 50 → 75 → 100 → 125 → 150 → 175 → (200 при наличии)  
**Длительность шага:** 120 секунд на уровень (2 минуты).  
**Критерий остановки:** Error Rate ≥ 5% или явная деградация задержек. :contentReference[oaicite:14]{index=14}

**Артефакты:** `results/stress_25.jtl`, `stress_50.jtl`, … `stress_175.jtl` (и `stress_200.jtl`, если выполнялся).

**Вывод по стресс-тесту (качественный):**
- При увеличении нагрузки система демонстрирует постепенный рост задержек и изменение throughput.
- Точка отказа определяется уровнем, при котором Error Rate стабильно превышает 5% либо наблюдается резкий рост 95% Line/timeout.

---

## 3. Результаты тестирования безопасности

### 3.1 Автоматическое сканирование (OWASP ZAP)
Сканирование выполнено OWASP ZAP **2.16.1**, отчёт сгенерирован **16.12.2025**. :contentReference[oaicite:15]{index=15}

**Итог по количеству оповещений:** всего 25 уникальных типов алертов. :contentReference[oaicite:16]{index=16}  
Распределение по риску: **Высокий — 2**, **Средний — 8**, **Низкий — 9**, **Информационный — 6**. :contentReference[oaicite:17]{index=17}

**Наиболее значимые находки (примерно по важности):**
1) **Раскрытие PII (High)** — потенциальное наличие персональных/идентифицирующих данных в ответе.   
2) **Уязвимая JS-библиотека (High)** — обнаружена библиотека **axios v1.6.5**, связана с **CVE-2024-39338** (рекомендация — обновить библиотеку).   
3) **Отсутствие HSTS (Strict-Transport-Security)** — рекомендация включить HSTS. :contentReference[oaicite:20]{index=20}  
4) **Информационное раскрытие версии сервера** (`Server: nginx/1.19.3`) — рекомендация скрыть/обобщить заголовок Server. :contentReference[oaicite:21]{index=21}  
5) **CSP-замечания** (несколько типов) — частично связанные с неполными/нестрогими директивами.   

**Артефакт:** `security/zap_report.html`.

### 3.2 Ручное тестирование безопасности
Выполнены ручные проверки, соответствующие методичке: валидация входных данных, анализ заголовков, управление сессиями, обработка ошибок. :contentReference[oaicite:23]{index=23}  

**Краткий итог:**
- XSS (reflected) в поиске и через URL-параметры: **не воспроизводится**.
- SQL Injection через форму поиска/URL: **признаков уязвимости не выявлено** (ошибки БД не отображаются, логика не ломается).
- Cookies/сессии: cookies пересоздаются после удаления, при обновлении страницы значения меняются, сайт остаётся работоспособным.
- Security Headers: обнаружены CSP и X-Frame-Options (SAMEORIGIN) по наблюдениям в DevTools; это снижает риск clickjacking.
- Ошибки: при некорректном вводе и “ломаных” параметрах технические stack trace/SQL-ошибки не показываются.

**Артефакт:** `security/manual_testing.md`.

---

## 4. Результаты тестирования удобства использования

### 4.1 Эвристическая оценка (Нильсен)
Проведена экспертная эвристическая оценка по 10 эвристикам Нильсена. :contentReference[oaicite:24]{index=24}  
**Артефакт:** `usability/heuristic_evaluation.md`.

**Общий вывод:** критических проблем UX не выявлено; отдельные улучшения возможны в части обратной связи/подсказок и эффективности для опытных пользователей.

### 4.2 Доступность (WCAG 2.1)
Проведена ручная проверка доступности по чек-листу WCAG 2.1: клавиатурная навигация, масштабирование, контраст, alt-тексты, адаптивность. :contentReference[oaicite:25]{index=25}  
**Артефакт:** `usability/accessibility_checklist.md`.

---

## 5. Сводный анализ взаимосвязей

### 5.1 Как безопасность влияет на производительность
- Усиление CSP, включение HSTS и корректных заголовков безопасности, как правило, **минимально влияет** на серверную производительность, но может добавить небольшую нагрузку на клиент (проверки политик/перенаправления на HTTPS).
- Наличие уязвимой JS-библиотеки (axios) — риск безопасности, который **косвенно** может привести к инцидентам и деградации (подмена контента/внедрение вредоносного поведения на клиенте). 

### 5.2 Как удобство связано с производительностью
- При росте задержек (особенно 95-й перцентиль) субъективно ухудшается UX: пользователь чаще повторяет клики/обновляет страницу, что повышает нагрузку.
- Чёткие сообщения об ошибках “без тех. деталей” улучшают UX и одновременно снижают риски раскрытия информации.

### 5.3 Приоритизация исправлений
1) **Высокий риск (срочно):** уязвимая JS-библиотека (обновление axios), проверка/исключение PII в ответах.   
2) **Средний риск:** HSTS, корректировка CSP (закрыть слабые директивы), минимизация информационного раскрытия.   
3) **Низкий/Info:** донастройка кэш-политик и остальные рекомендации отчёта.

---

## 6. Рекомендации и план улучшений (Roadmap)

### 6.1 Критические исправления (до 1 недели)
- Обновить уязвимую библиотеку (axios) до безопасной версии.   
- Проверить страницы/ответы, где ZAP обнаружил потенциальное раскрытие PII; убрать/маскировать идентификаторы.   

### 6.2 Важные улучшения (до 1 месяца)
- Включить Strict-Transport-Security (HSTS) на домене и поддоменах (при наличии). :contentReference[oaicite:31]{index=31}  
- Ужесточить/доработать CSP (в т.ч. убрать небезопасные директивы/inline где возможно).   
- Скрыть/обобщить заголовок Server. :contentReference[oaicite:33]{index=33}  

### 6.3 Оптимизации (до 3 месяцев)
- Добавить мониторинг производительности (APM/метрики), чтобы связывать пики нагрузки с деградацией.
- При необходимости — повторить длительный прогон “30 пользователей 15 минут” для проверки стабильности. :contentReference[oaicite:34]{index=34}  
- Улучшить подсказки/обратную связь в интерфейсе по результатам эвристик и чек-листа доступности. :contentReference[oaicite:35]{index=35}  

---

## 7. Заключение
В рамках лабораторной работы выполнен комплекс нефункционального тестирования веб-приложения: нагрузочные и стресс-испытания, автоматизированное и ручное тестирование безопасности, а также оценка удобства использования и доступности. По итогам выявлены приоритетные риски безопасности (в т.ч. уязвимая клиентская библиотека и потенциальное раскрытие PII) и сформирован план улучшений.

---

## 8. Приложения (артефакты)
- `jmeter/load_test.jmx`, `jmeter/stress_test.jmx`
- `results/users10.jtl`, `results/users50.jtl`, `results/users100.jtl`
- `results/stress_25.jtl` … `results/stress_175.jtl` (и `stress_200.jtl`, если есть)
- `security/zap_report.html`
- `security/manual_testing.md`
- `usability/heuristic_evaluation.md`
- `usability/accessibility_checklist.md`

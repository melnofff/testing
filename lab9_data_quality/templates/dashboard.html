<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Quality Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .score-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }
        .score {
            font-size: 48px;
            font-weight: bold;
            margin: 10px 0;
        }
        .alerts {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .alert-item {
            padding: 5px 0;
            border-bottom: 1px solid #ffeaa7;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .metric-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
        }
        .metric-card h3 {
            margin-top: 0;
            color: #333;
        }
        .status-pass {
            color: #28a745;
            font-weight: bold;
        }
        .status-fail {
            color: #dc3545;
            font-weight: bold;
        }
        .visualizations {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
        }
        .viz-image {
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Data Quality Dashboard</h1>
            <p>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
        </div>
        
        <div class="score-card">
            <h2>–û–±—â–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö</h2>
            <div class="score">{{ "%.1f"|format(report.overall_score) }}%</div>
            <p>–ü—Ä–æ–π–¥–µ–Ω–æ –ø—Ä–æ–≤–µ—Ä–æ–∫: {{ report.passed_checks }}/{{ report.total_checks }}</p>
        </div>
        
        {% if report.alerts %}
        <div class="alerts">
            <h3>üö® –ê–ª–µ—Ä—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö</h3>
            {% for alert in report.alerts %}
            <div class="alert-item">{{ alert }}</div>
            {% endfor %}
        </div>
        {% endif %}
        
        <div class="metrics-grid">
            <div class="metric-card">
                <h3>üìà –ü–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö</h3>
                {% for column, metrics in report.metrics.completeness.items() %}
                <p>{{ column }}: 
                    <span class="status-{{ metrics.status.lower() }}">
                        {{ "%.1f"|format(metrics.completeness_percent) }}% 
                        ({{ metrics.status }})
                    </span>
                </p>
                {% endfor %}
            </div>
            
            <div class="metric-card">
                <h3>üéØ –¢–æ—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö</h3>
                {% for field, metrics in report.metrics.accuracy.items() %}
                <p>{{ field }}: 
                    <span class="status-{{ metrics.status.lower() }}">
                        {{ "%.1f"|format(metrics.accuracy_percent) }}% 
                        ({{ metrics.status }})
                    </span>
                </p>
                {% endfor %}
            </div>
            
            <div class="metric-card">
                <h3>üîÑ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å</h3>
                {% for check, metrics in report.metrics.consistency.items() %}
                <p>{{ check }}: 
                    <span class="status-{{ metrics.status.lower() }}">
                        {{ metrics.status }}
                    </span>
                </p>
                {% endfor %}
            </div>
            
            <div class="metric-card">
                <h3>üìä –î—Ä–∏—Ñ—Ç –¥–∞–Ω–Ω—ã—Ö</h3>
                {% for field, metrics in report.metrics.drift.items() %}
                <p>{{ field }}: 
                    <span class="status-{{ metrics.status.lower() }}">
                        –î—Ä–∏—Ñ—Ç: {{ "%.2f"|format(metrics.drift_amount) }} 
                        ({{ metrics.status }})
                    </span>
                </p>
                {% endfor %}
            </div>
        </div>
        
        <div class="visualizations">
            <div>
                <h3>–ü–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º</h3>
                <img src="/static/completeness.png" alt="–ü–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö" class="viz-image">
            </div>
            <div>
                <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞</h3>
                <img src="/static/age_distribution.png" alt="–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞" class="viz-image">
            </div>
            <div>
                <h3>–ó–∞—Ä–ø–ª–∞—Ç—ã –ø–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º</h3>
                <img src="/static/salary_by_department.png" alt="–ó–∞—Ä–ø–ª–∞—Ç—ã –ø–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º" class="viz-image">
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 20px; color: #666;">
            <p>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: {{ report.timestamp }}</p>
            <p>–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É</p>
        </div>
    </div>
</body>
</html>
